import { Stock, StockChartData } from '../types';

// Mock stock data
const mockStocks: Stock[] = [
  {
    id: '1',
    symbol: 'RELIANCE',
    name: 'Reliance Industries Ltd',
    currentPrice: 2456.80,
    change: 45.20,
    changePercent: 1.87,
    marketCap: 1650000,
    peRatio: 18.5,
    volume: 1250000,
    high: 2480.00,
    low: 2410.00,
    open: 2415.00,
    previousClose: 2411.60,
  },
  {
    id: '2',
    symbol: 'TCS',
    name: 'Tata Consultancy Services Ltd',
    currentPrice: 3890.50,
    change: -23.40,
    changePercent: -0.60,
    marketCap: 1420000,
    peRatio: 25.2,
    volume: 890000,
    high: 3920.00,
    low: 3870.00,
    open: 3910.00,
    previousClose: 3913.90,
  },
  {
    id: '3',
    symbol: 'HDFC',
    name: 'HDFC Bank Ltd',
    currentPrice: 1650.75,
    change: 32.15,
    changePercent: 1.99,
    marketCap: 920000,
    peRatio: 16.8,
    volume: 2100000,
    high: 1665.00,
    low: 1620.00,
    open: 1625.00,
    previousClose: 1618.60,
  },
  {
    id: '4',
    symbol: 'INFY',
    name: 'Infosys Ltd',
    currentPrice: 1456.90,
    change: -18.70,
    changePercent: -1.27,
    marketCap: 610000,
    peRatio: 22.1,
    volume: 1500000,
    high: 1475.00,
    low: 1440.00,
    open: 1470.00,
    previousClose: 1475.60,
  },
  {
    id: '5',
    symbol: 'ICICIBANK',
    name: 'ICICI Bank Ltd',
    currentPrice: 890.25,
    change: 15.80,
    changePercent: 1.81,
    marketCap: 620000,
    peRatio: 15.3,
    volume: 1800000,
    high: 895.00,
    low: 875.00,
    open: 880.00,
    previousClose: 874.45,
  },
  {
    id: '6',
    symbol: 'HINDUNILVR',
    name: 'Hindustan Unilever Ltd',
    currentPrice: 2450.00,
    change: -45.20,
    changePercent: -1.81,
    marketCap: 580000,
    peRatio: 45.2,
    volume: 450000,
    high: 2500.00,
    low: 2440.00,
    open: 2490.00,
    previousClose: 2495.20,
  },
  {
    id: '7',
    symbol: 'ITC',
    name: 'ITC Ltd',
    currentPrice: 420.50,
    change: 8.90,
    changePercent: 2.16,
    marketCap: 520000,
    peRatio: 18.9,
    volume: 3200000,
    high: 425.00,
    low: 415.00,
    open: 415.50,
    previousClose: 411.60,
  },
  {
    id: '8',
    symbol: 'SBIN',
    name: 'State Bank of India',
    currentPrice: 650.75,
    change: -12.30,
    changePercent: -1.85,
    marketCap: 580000,
    peRatio: 12.5,
    volume: 2800000,
    high: 665.00,
    low: 645.00,
    open: 660.00,
    previousClose: 663.05,
  },
  {
    id: '9',
    symbol: 'BHARTIARTL',
    name: 'Bharti Airtel Ltd',
    currentPrice: 1120.40,
    change: 28.60,
    changePercent: 2.62,
    marketCap: 620000,
    peRatio: 28.5,
    volume: 950000,
    high: 1135.00,
    low: 1105.00,
    open: 1110.00,
    previousClose: 1091.80,
  },
  {
    id: '10',
    symbol: 'AXISBANK',
    name: 'Axis Bank Ltd',
    currentPrice: 980.25,
    change: -15.75,
    changePercent: -1.58,
    marketCap: 300000,
    peRatio: 14.2,
    volume: 1200000,
    high: 995.00,
    low: 975.00,
    open: 990.00,
    previousClose: 996.00,
  },
  {
    id: '11',
    symbol: 'KOTAKBANK',
    name: 'Kotak Mahindra Bank Ltd',
    currentPrice: 1850.90,
    change: 35.40,
    changePercent: 1.95,
    marketCap: 370000,
    peRatio: 20.8,
    volume: 650000,
    high: 1865.00,
    low: 1820.00,
    open: 1825.00,
    previousClose: 1815.50,
  },
  {
    id: '12',
    symbol: 'ASIANPAINT',
    name: 'Asian Paints Ltd',
    currentPrice: 3200.75,
    change: -25.50,
    changePercent: -0.79,
    marketCap: 310000,
    peRatio: 52.3,
    volume: 280000,
    high: 3230.00,
    low: 3180.00,
    open: 3210.00,
    previousClose: 3226.25,
  },
  {
    id: '13',
    symbol: 'MARUTI',
    name: 'Maruti Suzuki India Ltd',
    currentPrice: 9850.50,
    change: 125.80,
    changePercent: 1.29,
    marketCap: 290000,
    peRatio: 22.5,
    volume: 180000,
    high: 9900.00,
    low: 9750.00,
    open: 9780.00,
    previousClose: 9724.70,
  },
  {
    id: '14',
    symbol: 'ULTRACEMCO',
    name: 'UltraTech Cement Ltd',
    currentPrice: 8500.25,
    change: -45.30,
    changePercent: -0.53,
    marketCap: 250000,
    peRatio: 18.7,
    volume: 120000,
    high: 8550.00,
    low: 8450.00,
    open: 8520.00,
    previousClose: 8545.55,
  },
  {
    id: '15',
    symbol: 'SUNPHARMA',
    name: 'Sun Pharmaceutical Industries Ltd',
    currentPrice: 1250.80,
    change: 18.90,
    changePercent: 1.53,
    marketCap: 300000,
    peRatio: 25.8,
    volume: 850000,
    high: 1265.00,
    low: 1235.00,
    open: 1240.00,
    previousClose: 1231.90,
  },
  {
    id: '16',
    symbol: 'TATAMOTORS',
    name: 'Tata Motors Ltd',
    currentPrice: 850.40,
    change: -12.60,
    changePercent: -1.46,
    marketCap: 280000,
    peRatio: 15.2,
    volume: 2200000,
    high: 865.00,
    low: 845.00,
    open: 860.00,
    previousClose: 863.00,
  },
  {
    id: '17',
    symbol: 'WIPRO',
    name: 'Wipro Ltd',
    currentPrice: 450.75,
    change: 8.25,
    changePercent: 1.86,
    marketCap: 250000,
    peRatio: 18.9,
    volume: 1800000,
    high: 455.00,
    low: 445.00,
    open: 448.00,
    previousClose: 442.50,
  },
  {
    id: '18',
    symbol: 'POWERGRID',
    name: 'Power Grid Corporation of India Ltd',
    currentPrice: 280.50,
    change: 4.20,
    changePercent: 1.52,
    marketCap: 260000,
    peRatio: 12.8,
    volume: 3200000,
    high: 285.00,
    low: 278.00,
    open: 280.00,
    previousClose: 276.30,
  },
  {
    id: '19',
    symbol: 'NESTLEIND',
    name: 'Nestle India Ltd',
    currentPrice: 24500.00,
    change: -350.00,
    changePercent: -1.41,
    marketCap: 240000,
    peRatio: 65.2,
    volume: 45000,
    high: 24800.00,
    low: 24300.00,
    open: 24700.00,
    previousClose: 24850.00,
  },
  {
    id: '20',
    symbol: 'TECHM',
    name: 'Tech Mahindra Ltd',
    currentPrice: 1250.90,
    change: 22.40,
    changePercent: 1.82,
    marketCap: 120000,
    peRatio: 16.5,
    volume: 950000,
    high: 1265.00,
    low: 1240.00,
    open: 1245.00,
    previousClose: 1228.50,
  },
  {
    id: '21',
    symbol: 'BAJFINANCE',
    name: 'Bajaj Finance Ltd',
    currentPrice: 7200.75,
    change: -85.25,
    changePercent: -1.17,
    marketCap: 430000,
    peRatio: 28.9,
    volume: 180000,
    high: 7280.00,
    low: 7150.00,
    open: 7250.00,
    previousClose: 7286.00,
  },
  {
    id: '22',
    symbol: 'HCLTECH',
    name: 'HCL Technologies Ltd',
    currentPrice: 1150.40,
    change: 15.60,
    changePercent: 1.37,
    marketCap: 310000,
    peRatio: 20.3,
    volume: 1200000,
    high: 1165.00,
    low: 1140.00,
    open: 1145.00,
    previousClose: 1134.80,
  },
  {
    id: '23',
    symbol: 'ADANIENT',
    name: 'Adani Enterprises Ltd',
    currentPrice: 2850.25,
    change: 45.75,
    changePercent: 1.63,
    marketCap: 320000,
    peRatio: 45.8,
    volume: 450000,
    high: 2870.00,
    low: 2820.00,
    open: 2830.00,
    previousClose: 2804.50,
  },
  {
    id: '24',
    symbol: 'JSWSTEEL',
    name: 'JSW Steel Ltd',
    currentPrice: 850.90,
    change: -8.10,
    changePercent: -0.94,
    marketCap: 210000,
    peRatio: 12.5,
    volume: 1800000,
    high: 860.00,
    low: 845.00,
    open: 855.00,
    previousClose: 859.00,
  },
  {
    id: '25',
    symbol: 'ONGC',
    name: 'Oil & Natural Gas Corporation Ltd',
    currentPrice: 180.75,
    change: 3.25,
    changePercent: 1.83,
    marketCap: 230000,
    peRatio: 8.9,
    volume: 8500000,
    high: 182.00,
    low: 178.00,
    open: 180.00,
    previousClose: 177.50,
  },
  {
    id: '26',
    symbol: 'TATACONSUM',
    name: 'Tata Consumer Products Ltd',
    currentPrice: 950.40,
    change: 12.60,
    changePercent: 1.34,
    marketCap: 88000,
    peRatio: 42.5,
    volume: 650000,
    high: 955.00,
    low: 940.00,
    open: 945.00,
    previousClose: 937.80,
  },
  {
    id: '27',
    symbol: 'BAJAJFINSV',
    name: 'Bajaj Finserv Ltd',
    currentPrice: 1650.25,
    change: -22.75,
    changePercent: -1.36,
    marketCap: 260000,
    peRatio: 35.2,
    volume: 280000,
    high: 1670.00,
    low: 1640.00,
    open: 1660.00,
    previousClose: 1673.00,
  },
  {
    id: '28',
    symbol: 'COALINDIA',
    name: 'Coal India Ltd',
    currentPrice: 420.50,
    change: 6.80,
    changePercent: 1.64,
    marketCap: 260000,
    peRatio: 9.8,
    volume: 4200000,
    high: 425.00,
    low: 415.00,
    open: 418.00,
    previousClose: 413.70,
  },
  {
    id: '29',
    symbol: 'DIVISLAB',
    name: 'Divi\'s Laboratories Ltd',
    currentPrice: 3800.75,
    change: -45.25,
    changePercent: -1.18,
    marketCap: 100000,
    peRatio: 38.5,
    volume: 120000,
    high: 3840.00,
    low: 3780.00,
    open: 3820.00,
    previousClose: 3846.00,
  },
  {
    id: '30',
    symbol: 'CIPLA',
    name: 'Cipla Ltd',
    currentPrice: 1250.90,
    change: 18.40,
    changePercent: 1.49,
    marketCap: 100000,
    peRatio: 22.8,
    volume: 850000,
    high: 1265.00,
    low: 1240.00,
    open: 1245.00,
    previousClose: 1232.50,
  },
];

export const getTopGainers = (): Stock[] => {
  return mockStocks
    .filter(stock => stock.changePercent > 0)
    .sort((a, b) => b.changePercent - a.changePercent)
    .slice(0, 10);
};

export const getTopLosers = (): Stock[] => {
  return mockStocks
    .filter(stock => stock.changePercent < 0)
    .sort((a, b) => a.changePercent - b.changePercent)
    .slice(0, 10);
};

export const getAllStocks = (): Stock[] => {
  return mockStocks;
};

export const getStockById = (id: string): Stock | undefined => {
  return mockStocks.find(stock => stock.id === id);
};

export const getStockChartData = (stockId: string): StockChartData[] => {
  // Generate mock chart data for the last 30 days
  const data: StockChartData[] = [];
  const basePrice = mockStocks.find(s => s.id === stockId)?.currentPrice || 1000;
  
  for (let i = 29; i >= 0; i--) {
    const timestamp = Date.now() - (i * 24 * 60 * 60 * 1000);
    const randomChange = (Math.random() - 0.5) * 0.1; // Â±5% change
    const price = basePrice * (1 + randomChange);
    
    data.push({
      timestamp,
      price: Math.round(price * 100) / 100,
    });
  }
  
  return data;
};

export const searchStocks = (query: string): Stock[] => {
  const lowercaseQuery = query.toLowerCase();
  return mockStocks.filter(
    stock =>
      stock.name.toLowerCase().includes(lowercaseQuery) ||
      stock.symbol.toLowerCase().includes(lowercaseQuery)
  );
}; 